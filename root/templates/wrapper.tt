<!DOCTYPE html>
<html lang="en">
<head>
    <title>
        [% title        _ ' · ' | html IF title %]
        [% project.name _ ' · ' | html IF project %]
        [% name | html %]
    </title>

    <meta charset="UTF-8">

    <meta name="description" content="[% meta_description %]">
    <meta name="keywords"    content="[% meta_keywords %]">

[% IF icon_url %]
    <link rel="icon" type="[% icon_type %]" href="[% icon_url %]">
[% END %]

[% FOREACH path IN css %]
    <link rel="stylesheet" href="[% path %]">
[% END %]
</head>

<body>

<header>
<h1>
    <a href="[% homepage_url %]">[% name | html %]</a>
[%~ IF project_urls ~%]
    :
    <a href="[% project_urls.project %]">[% project.name | html %]</a>
[% END %]
</h1>

<nav>
<ul>
[% IF dashboard_url %]
    <li><a href="[% dashboard_url %]">Dashboard</a></li>
    <li><a href="[% settings_url %]">Settings</a></li>
    <li>
        <form class="inline" method="POST" action="[% logout_url %]">
            <input type="submit" name="logout" value="Logout">
        </form>
    </li>
[% ELSIF login_url %]
    <li><a href="[% login_url %]">Login</a></li>
[% END %]

[% IF register_url %]
    <li><a href="[% register_url %]">Register</a></li>
[% END %]

[% IF project_urls %]
    <li><a href="[% project_urls.project %]">Meals ([% inventory.meals %]) &amp; Dishes ([% inventory.dishes %])</a></li>
    <li><a href="[% project_urls.recipes %]">Recipes ([% inventory.recipes %])</a></li>
    <li><a href="[% project_urls.articles %]">Articles ([% inventory.articles %])</a></li>
    <li><a href="[% project_urls.tags %]">Tags ([% inventory.tags %])</a></li>
    <li><a href="[% project_urls.unassigned_items %]">Unassigned Items ([% inventory.unassigned_items %])</a></li>
    <li><a href="[% project_urls.purchase_lists %]">Purchase Lists ([% inventory.purchase_lists %])</a></li>
    <li><a href="[% project_urls.print %]">Printing</a></li>
    <li><a href="[% project_urls.shop_sections %]">Shop sections ([% inventory.shop_sections %])</a></li>
    <li><a href="[% project_urls.quantities %]">Quantities ([% inventory.quantities %])</a></li>
    <li><a href="[% project_urls.units %]">Units ([% inventory.units %])</a></li>
    <li><a href="[% project_urls.import %]">Import</a></li>
[% END %]

[% IF admin_url %]
    <li><a href="[% admin_url %]">Admin</a></li>
[% END %]

    <li><a href="[% statistics_url %]">Statistics</a></li>
    <li><a href="[% about_url %]">[% about_title || 'About' %]</a></li>
</ul>
</nav>
</header>

<main>
[% IF html_title %]<h2>[% html_title # may contain HTML %]</h2>
[% ELSIF   title %]<h2>[% title | html %]</h2>
[% END %]

[% FOREACH error IN errors %]
    <p class="error">[% error | xml %]</p>
[% END %]

[% content %]
</main>

<footer>
Coocook&mdash;Web application for collecting recipes and making food plans<br>
This software is copyright (c) 2015&ndash;2018 by Daniel Böhmer.
This is free software, licensed under the GNU General Public License, Version 3, June 2007.
</footer>

[% FOR path IN js %]
<script src="[% path %]"></script>
[% END %]

</body>
</html>
